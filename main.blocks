<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="QpPePyi}M-+[P;YG5zV~">inventario</variable><variable id="HnI{lFX`/#FqwK+r.Kc!">paquetesNecesarios</variable><variable id="QAk=U4$8+|I;i@xrW]xc">miJugador</variable><variable id="[4@M1H1Og,f11)n:8v!6">i</variable></variables><comment id="#XG}+T2=n%^~#tIl|NuR" x="-51" y="727" w="310" h="120">
Activa la fase final del juego.
[cite: 57]
</comment><comment id="sB]K7ZN=3)?ga$sYHH77" x="304" y="727" w="480" h="120">
--- VARIABLES GLOBALES (Abasto de variables) ---
</comment><block type="gameupdate" id="b`spbF/EyL0qcQlUlTT~" x="353" y="-79"><comment pinned="false" h="80" w="160">Evento que se ejecuta constantemente para actualizar la GUI técnica [cite: 58]</comment><statement name="HANDLER"><block type="function_call" id="SP16=O7%|Lv{EL?_~|/y"><mutation name="dibujarInterfazTecnica" functionid="%QEY22nJHBnS!OoF7wp#"></mutation></block></statement></block><block type="function_definition" id="jsV:a**Xq4UFMBqf02c`" x="667" y="-79"><mutation name="inicializarSistema" functionid="_*q(0{;OS903%$?n,oJ`"></mutation><field name="function_name">inicializarSistema</field><comment pinned="false" h="80" w="160">Inicializa los valores técnicos del sistema.
[cite: 39, 59]</comment><statement name="STACK"><block type="variables_set" id="70i_^!2Aa7#LsK~(JT#@"><field name="VAR" id="QpPePyi}M-+[P;YG5zV~">inventario</field><value name="VALUE"><shadow type="math_number" id="E~98igO,0NS)i)T[]njR"><field name="NUM">0</field></shadow><block type="lists_create_with" id="e:.rpJMI$8^%xEf_sV%K"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="hudsetScore" id="B-s(Y}wVztZ|G~]=9#XH"><value name="value"><shadow type="math_number" id="/Y=(KuuG2E8C2U^2}/}u"><field name="NUM">0</field></shadow></value><next><block type="hudSetLife" id="OmMaW{YKhFj%r)B}D~)y"><value name="value"><shadow type="math_number" id="DKCPQkG{h`5%K*7+cn73"><field name="NUM">3</field></shadow></value></block></next></block></next></block></statement></block><block type="function_definition" id="i^$]RKPCLXkg=Bv6WSU6" x="1094" y="-79"><mutation name="gestionarInventario" functionid="aY--U8jB!,N=q^cx}pW-"><arg name="objeto" id="4tnvb23e6mv0w8qc1bupa" type="string"></arg></mutation><field name="function_name">gestionarInventario</field><comment pinned="false" h="80" w="160">Gestiona la recolección de objetos de forma modular.
@param objeto Nombre del ítem recogido
[cite: 39, 59]</comment><value name="4tnvb23e6mv0w8qc1bupa"><block type="argument_reporter_string" id="x@E{gOL4uVz14l/;D_|u"><mutation duplicateondrag="true"></mutation><field name="VALUE">objeto</field></block></value><statement name="STACK"><block type="array_push" id="b;Dj~+LqV}=:;b-c8r0Q"><value name="list"><block type="variables_get" id="j4:]|*OPE$6wHCW4j=fj"><field name="VAR" id="QpPePyi}M-+[P;YG5zV~">inventario</field></block></value><value name="value"><block type="argument_reporter_string" id="CIwj(sPXP_dm4FvaeQ:_"><field name="VALUE">objeto</field></block></value><next><block type="mixer_play_sound" id=".JcxtmG!r/xWESgmd%AX"><field name="sound">music.baDing</field><next><block type="gameSplash" id="D2DE]kp_y]5EthC*`NoT"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="title"><shadow type="text" id="i900U#lqYW{cNV$s[Gk@"><field name="TEXT"></field></shadow><block type="text_join" id="TbD~`5{jTJ}F32C!MS=D"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="Q8CXrGh|9M={}TJde3jg"><field name="TEXT">Recuperado: </field></shadow></value><value name="ADD1"><shadow type="text" id="[qT^dey.x.2MBj.`GU|v"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="zjX*6;Jvl}qG$_gcxB0@"><field name="VALUE">objeto</field></block></value></block></value><next><block type="controls_if" id="byU-oR]X!woY35tu2X*)"><comment pinned="false" h="80" w="160">Verifica si se ha alcanzado el objetivo para el final del juego [cite: 57]</comment><value name="IF0"><shadow type="logic_boolean" id="R~4#A,t$cG-r4Yza$8KV"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="UXV:s6+}2_(c~FvgOb($"><field name="OP">GTE</field><value name="A"><shadow type="math_number" id="_gk@}}lxsamCwcq_sG;C"><field name="NUM">0</field></shadow><block type="lists_length" id=")6_1t)s[S0mz;k-R7@un"><value name="VALUE"><block type="variables_get" id="*S`mqdj#kn24SF9^w)Gz"><field name="VAR" id="QpPePyi}M-+[P;YG5zV~">inventario</field></block></value></block></value><value name="B"><shadow type="math_number" id="q@B+P5+c.t-pt9NXA|PE"><field name="NUM">0</field></shadow><block type="variables_get" id="UmTSPxob#Ss|`dx[2V+p"><field name="VAR" id="HnI{lFX`/#FqwK+r.Kc!">paquetesNecesarios</field></block></value></block></value><statement name="DO0"><block type="function_call" id="_Q1A{N4f4?XKm.}rX803"><mutation name="desbloquearFinal" functionid="DZr$#JrosjFx/q_d^,w1"></mutation></block></statement></block></next></block></next></block></next></block></statement></block><block type="pxt-on-start" id="[W0owoWt1LTc/2DS;H*D" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="p(.mvKRxcFPxA},2.qtq"><field name="VAR" id="HnI{lFX`/#FqwK+r.Kc!">paquetesNecesarios</field><comment pinned="false" h="80" w="160">Estructura de datos compleja: Vector/Lista</comment><value name="VALUE"><shadow type="math_number" id="L-w{J{.2.$d!J+#r$`eL"><field name="NUM">3</field></shadow></value></block></statement></block><block type="function_definition" id=".[5u*i?(N{urB`p_TP36" x="-51" y="372"><mutation name="procesarDano" functionid="yEh!fT|$m)=t~:@vih1e"></mutation><field name="function_name">procesarDano</field><comment pinned="false" h="80" w="160">Lógica técnica para procesar el daño de los enemigos.
[cite: 39]</comment><statement name="STACK"><block type="hudChangeLifeBy" id=".S!d(#XVc0]w%wGGdu^|"><value name="value"><shadow type="math_number" id="rulRV#!Dg(s.XKm3zH$6"><field name="NUM">-1</field></shadow></value><next><block type="camerashake" id="9Pi4tyn?9sN=;Xk1bUsv"><value name="amplitude"><shadow type="math_number_minmax" id="+8E(-ge9+IXh223Znvs@"><mutation min="1" max="8" precision="0"></mutation><field name="SLIDER">4</field></shadow></value><value name="duration"><shadow type="timePicker" id="sH#f*ds3y6L|%d#IUFd}"><field name="ms">500</field></shadow></value><next><block type="spritesay" id="@W_,Dn56+#@?^PIY=Yz!"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="Kuh#Kbb#R@2dL%X{EfkF"><field name="VAR" id="QAk=U4$8+|I;i@xrW]xc">miJugador</field></block></value><value name="text"><shadow type="text" id="%a.{rX0O[Q+8I/}G1FV("><field name="TEXT">¡ERROR!</field></shadow></value><value name="millis"><shadow type="timePicker" id="!w)(n3#P*nPn-_I*bpls"><field name="ms">500</field></shadow></value><next><block type="Sprite_blockCombine_change" id="3$1|jCW/GNyTaY7=}{J/"><field name="property">Sprite.x@set</field><comment pinned="false" h="80" w="160">Pequeño retroceso para evitar perder vidas seguidas</comment><value name="mySprite"><block type="variables_get" id="Gm1FvMH8!bE/_{VSN7sW"><field name="VAR" id="QAk=U4$8+|I;i@xrW]xc">miJugador</field></block></value><value name="value"><shadow type="math_number" id="rkUx,F$yUW^C;h%/GJ[g"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="$Q*EJnig?R*Cy)H2IvTn" x="500" y="372"><mutation name="dibujarInterfazTecnica" functionid="%QEY22nJHBnS!OoF7wp#"></mutation><field name="function_name">dibujarInterfazTecnica</field><comment pinned="false" h="80" w="160">Funcionalidad Extra: Dibuja un mini-indicador de progreso en pantalla.</comment><statement name="STACK"><block type="Image_fillRect" id=")C*t_OF8*;9*A5~h.{lH"><value name="picture"><block type="typescript_expression" id="U|.)k4s_;A6`;qDT;H+#"><field name="EXPRESSION">//  Dibuja un fondo para el mini-mapa/inventario en la esquina
    screen</field></block></value><value name="x"><shadow type="math_number" id="3!}Ns%I{a1uiH[4|R)Rp"><field name="NUM">2</field></shadow></value><value name="y"><shadow type="math_number" id="+;LcYMfUR7O,tS,Et@2R"><field name="NUM">2</field></shadow></value><value name="w"><shadow type="math_number" id="Pp))Vk|.|?9IWNuV_%7h"><field name="NUM">22</field></shadow></value><value name="h"><shadow type="math_number" id="lt1F=Q4!2dk_C{LiHy0q"><field name="NUM">8</field></shadow></value><value name="c"><shadow type="colorindexpicker" id="VssHY);!A_p|su_FFrDE"><field name="index">15</field></shadow></value><next><block type="pxt_controls_for" id="F:?sM?Vj{l]w,h$AnVy`"><value name="VAR"><block type="variables_get_reporter" id="@gNwVDT6=z3dO:GtOd=D"><mutation duplicateondrag="true"></mutation><field name="VAR" id="[4@M1H1Og,f11)n:8v!6">i</field></block></value><value name="TO"><shadow type="math_whole_number" id="lt6O@VDLGD#)YoBNHOV4"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="OERgk=0:LuGt`91Wxmt{"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="9Y~JQD+_L^5;l5DO2.W4"><field name="NUM">0</field></shadow><block type="lists_length" id="KNQjgZ_?D^}pfr#F}?!M"><value name="VALUE"><block type="variables_get" id="Z#-UCJ):6V0Dw_QfyCSP"><field name="VAR" id="QpPePyi}M-+[P;YG5zV~">inventario</field></block></value></block></value><value name="B"><shadow type="math_number" id="h_R3]fDRd2q$lB:vAsjv"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="Image_setPixel" id="Bb3y$hkQj5/SybuMPTI+"><value name="picture"><block type="typescript_expression" id="/lem::+*-|C/4Ip5kWvx"><field name="EXPRESSION">//  Dibuja un punto verde por cada objeto en el inventario
        screen</field></block></value><value name="x"><block type="math_arithmetic" id="FS-ja.j[FQF}Al4/mEi|"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="1E.w:swLzXpp6UNqe4d_"><field name="NUM">4</field></shadow></value><value name="B"><shadow type="math_number" id="l7FDZNtj,*Hw{SxDx{?s"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="XGHSY~:^o|0fp1|vA)-!"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="*RiDR13W5R0ULLtw7G,)"><field name="NUM">0</field></shadow><block type="variables_get" id="8[y,+a+#W47kk.+G=DNu"><field name="VAR" id="[4@M1H1Og,f11)n:8v!6">i</field></block></value><value name="B"><shadow type="math_number" id="wd%!pCaSP~hs}NB(CuII"><field name="NUM">6</field></shadow></value></block></value></block></value><value name="y"><shadow type="math_number" id="BG45ZTft=p9Ze|QJ7BkN"><field name="NUM">5</field></shadow></value><value name="c"><shadow type="colorindexpicker" id="5je*7YQayUo)5hH!R{^l"><field name="index">7</field></shadow></value></block></statement></block></next></block></statement></block><block type="function_definition" id="DXB5|n{6|Jz(dcYaR-wG" x="1616" y="372"><mutation name="desbloquearFinal" functionid="DZr$#JrosjFx/q_d^,w1"></mutation><field name="function_name">desbloquearFinal</field><comment pinned="false" h="80" w="160">Aquí Persona B debería cambiar el mapa o abrir una puerta</comment><data>0</data><statement name="STACK"><block type="game_show_long_text" id="U};{aaql$HxTNTI)U{+p"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text" id="jr|pr2(5FT993i9?Q./`"><field name="TEXT">SISTEMA REPARADO. Busca la salida.</field></shadow></value></block></statement></block></xml>