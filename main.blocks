<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="eTfIhk/t:1o9.A1$L0z^">i</variable><variable id="_[o-0Z;SQmk.#7FBXqBN">inventario</variable><variable id="V|V255uDI#_74CSh8U0-">miJugador</variable><variable id="oYw0b/!)Z/uu!wR{Ef;b">paquetesNecesarios</variable></variables><comment id="fUur[zyKpX+F$u`tfXRT" x="20" y="882" w="310" h="120">
Activa la fase final del juego.

[cite: 57]
</comment><comment id="jEL+{-$@9+7TiJoaPgVb" x="375" y="882" w="480" h="120">
--- VARIABLES GLOBALES (Abasto de variables) ---
</comment><block type="pxt-on-start" id="lP5^bh,(TR9;yMaNt9l2" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="ob44H^7/=k}:flom)uzG"><field name="VAR" id="oYw0b/!)Z/uu!wR{Ef;b">paquetesNecesarios</field><comment pinned="false" h="80" w="160">Estructura de datos compleja: Vector/Lista</comment><value name="VALUE"><shadow type="math_number" id="qti;t//3{)L15rC}Fi4j"><field name="NUM">3</field></shadow></value></block></statement></block><block type="gameupdate" id="%moD~crS)BoV+od-HE?A" x="424" y="20"><comment pinned="false" h="80" w="160">Evento que se ejecuta constantemente para actualizar la GUI técnica [cite: 58]</comment><statement name="HANDLER"><block type="function_call" id="6}gRaj9YU+)8|`..CZtQ"><mutation name="dibujarInterfazTecnica" functionid="HHL][Y{R3}furI||Irpg"></mutation></block></statement></block><block type="function_definition" id="5?x(ev0;Mbu$*P5+F~8y" x="738" y="20"><mutation name="procesarDano" functionid="[Z3lAS=0WEu9G^AI7oT["></mutation><field name="function_name">procesarDano</field><comment pinned="false" h="80" w="160">Lógica técnica para procesar el daño de los enemigos.
[cite: 39]</comment><statement name="STACK"><block type="hudChangeLifeBy" id=",k/dKBw#WXcDttFwaH0r"><value name="value"><shadow type="math_number" id="~Z*Xy(F8s^-;cN,[r*mi"><field name="NUM">-1</field></shadow></value><next><block type="camerashake" id="un{,~scoA{w8fz!H@FQP"><value name="amplitude"><shadow type="math_number_minmax" id="U)Z#TM)L=O~G6*Zaeu~g"><mutation min="1" max="8" precision="0"></mutation><field name="SLIDER">4</field></shadow></value><value name="duration"><shadow type="timePicker" id="]:_aO3`urCS14I!Jit}["><field name="ms">500</field></shadow></value><next><block type="spritesay" id="KT%CW5/*[X@L=^^-{stL"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="!.H2^5K)%5VM)6$OL5D."><field name="VAR" id="V|V255uDI#_74CSh8U0-">miJugador</field></block></value><value name="text"><shadow type="text" id="h|ImUJx2kXF+=(J/u[:#"><field name="TEXT">¡ERROR!</field></shadow></value><value name="millis"><shadow type="timePicker" id=")%(e[Z[ZH76i2BDBnCn0"><field name="ms">500</field></shadow></value><next><block type="Sprite_blockCombine_change" id="[;QnxmU|Jy8RC;;4B(LV"><field name="property">Sprite.x@set</field><comment pinned="false" h="80" w="160">Pequeño retroceso para evitar perder vidas seguidas</comment><value name="mySprite"><block type="variables_get" id=";QLw1Owl$xDv9_K{z1%k"><field name="VAR" id="V|V255uDI#_74CSh8U0-">miJugador</field></block></value><value name="value"><shadow type="math_number" id=")~!w+5rfVQRl]FR,_/HT"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="3guo(!mK:8V?(.en[G+v" x="1289" y="20"><mutation name="gestionarInventario" functionid="qqe~119?!#WU73{=MHNG"><arg name="objeto" id="ogunqum1li3wcxntvdxg" type="string"></arg></mutation><field name="function_name">gestionarInventario</field><comment pinned="false" h="80" w="160">Gestiona la recolección de objetos de forma modular.
@param objeto Nombre del ítem recogido
[cite: 39, 59]</comment><value name="ogunqum1li3wcxntvdxg"><block type="argument_reporter_string" id="p7m(iJf!rNPO3xTnlLgG"><mutation duplicateondrag="true"></mutation><field name="VALUE">objeto</field></block></value><statement name="STACK"><block type="array_push" id="AiaR{obf|Hb#/xDPEon1"><value name="list"><block type="variables_get" id="CvRQ2;p=*g:6HQ(Z@{r2"><field name="VAR" id="_[o-0Z;SQmk.#7FBXqBN">inventario</field></block></value><value name="value"><block type="argument_reporter_string" id="8/4;H4G_4Dl]s={qo$FI"><field name="VALUE">objeto</field></block></value><next><block type="mixer_play_sound" id="JAR-NnCM0xNl?s|@X!jr"><field name="sound">music.baDing</field><next><block type="gameSplash" id="KKjv7J[sa#qgJZz_u(}!"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="title"><shadow type="text" id="CKQRY:{cPJl}NEmDGcZG"><field name="TEXT"></field></shadow><block type="text_join" id="7zW]1wmH(pNtBqE1l_Fw"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="IS)*vQd;LR!`9jvK;:lL"><field name="TEXT">Recuperado: </field></shadow></value><value name="ADD1"><shadow type="text" id="92aCnCiz)K2waJ/;{o;!"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="(*g|ZglogO,%)8qqxSIi"><field name="VALUE">objeto</field></block></value></block></value><next><block type="controls_if" id="51;ZKSRcFO|]p.6fTPF+"><comment pinned="false" h="80" w="160">Verifica si se ha alcanzado el objetivo para el final del juego [cite: 57]</comment><value name="IF0"><shadow type="logic_boolean" id="1~4r,Mu0w`AyE(LPc4#5"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="XrVdSC80-7){v?8IUPzx"><field name="OP">GTE</field><value name="A"><shadow type="math_number" id="P{q]z$`@mF4o@A?YT|fP"><field name="NUM">0</field></shadow><block type="lists_length" id="=Yo]fO)3{wRzv`MW92*("><value name="VALUE"><block type="variables_get" id="NxAE%YPN_hC4DB_GeIX|"><field name="VAR" id="_[o-0Z;SQmk.#7FBXqBN">inventario</field></block></value></block></value><value name="B"><shadow type="math_number" id="RG%EqsEo9E_kImp)XD=X"><field name="NUM">0</field></shadow><block type="variables_get" id=":v(fJVkL0U;|n5{yvMQ+"><field name="VAR" id="oYw0b/!)Z/uu!wR{Ef;b">paquetesNecesarios</field></block></value></block></value><statement name="DO0"><block type="function_call" id="m0hcyz:}uy]jbVE*XD?_"><mutation name="desbloquearFinal" functionid="H*;oSC|cB{`G?8Z.C;{4"></mutation></block></statement></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="$!),mYn{.=J.$;.z_X!F" x="20" y="471"><mutation name="inicializarSistema" functionid="aQa,8*=KHf|@LL1=UF!b"></mutation><field name="function_name">inicializarSistema</field><comment pinned="false" h="80" w="160">Inicializa los valores técnicos del sistema.
[cite: 39, 59]</comment><statement name="STACK"><block type="variables_set" id="g:bet1eFY$Mp4cma#Jee"><field name="VAR" id="_[o-0Z;SQmk.#7FBXqBN">inventario</field><value name="VALUE"><shadow type="math_number" id="_k:E5?hHFGDw_U3#+e80"><field name="NUM">0</field></shadow><block type="lists_create_with" id="eBiV]${`nWKYZ%D`k-zh"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="hudsetScore" id="kB$Z!p/SLmP.qRZi8m|c"><value name="value"><shadow type="math_number" id="(L}SkF7[yK:N*W2fNh/)"><field name="NUM">0</field></shadow></value><next><block type="hudSetLife" id="fcH;JJB{^_`^eJ4eQzQL"><value name="value"><shadow type="math_number" id="g{kjCoji*(4S-,#oJo!G"><field name="NUM">3</field></shadow></value></block></next></block></next></block></statement></block><block type="function_definition" id="#;={]Q;SI^e[OW/rwR)s" x="447" y="471"><mutation name="dibujarInterfazTecnica" functionid="HHL][Y{R3}furI||Irpg"></mutation><field name="function_name">dibujarInterfazTecnica</field><comment pinned="false" h="80" w="160">Funcionalidad Extra: Dibuja un mini-indicador de progreso en pantalla.</comment><data>0;1</data><statement name="STACK"><block type="Image_fillRect" id="Yu;@:i:oQDvb_y-#Y{[-"><value name="picture"><block type="typescript_expression" id="H#m_1/ZCA7|*fIC6#Rlc"><field name="EXPRESSION">//  Dibuja un fondo para el mini-mapa/inventario en la esquina
    screen</field></block></value><value name="x"><shadow type="math_number" id="xgtEZ,r^i:=EiLCCrm1k"><field name="NUM">2</field></shadow></value><value name="y"><shadow type="math_number" id="{sZ=l?Lh5,qvHEekXQts"><field name="NUM">2</field></shadow></value><value name="w"><shadow type="math_number" id="09HkK`T/C#@%OteEG`r1"><field name="NUM">22</field></shadow></value><value name="h"><shadow type="math_number" id="yKp#bQg.d{^Jh]6eN.yz"><field name="NUM">8</field></shadow></value><value name="c"><shadow type="colorindexpicker" id="Y:ji^O{O)[YA)iRa-UQF"><field name="index">15</field></shadow></value><next><block type="device_while" id="=~m^~ydW_B@vO]4T}JC7"><value name="COND"><shadow type="logic_boolean" id="I^)t-OXJ0R*Z)#lOKETj"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="}YA6o[@C;uR(zb$?w+?f"><field name="OP">LTE</field><value name="A"><shadow type="math_number" id=".,Nt*Wnn60#h/wA5MCg#"><field name="NUM">0</field></shadow><block type="variables_get" id="|/J1Zz]d$!YvwnBw#f)z"><field name="VAR" id="eTfIhk/t:1o9.A1$L0z^">i</field></block></value><value name="B"><shadow type="math_number" id="Xflp!eV5+ZI%y:e`Awm0"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="BJ;o-z.|6tVc,j)}Tx6d"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="fx::K}7K{Gkr/$h97D=#"><field name="NUM">0</field></shadow><block type="lists_length" id="41]{^#!RwQFl8p^)C{{o"><value name="VALUE"><block type="variables_get" id="]~;z7$y5=/ow~(yC4zE^"><field name="VAR" id="_[o-0Z;SQmk.#7FBXqBN">inventario</field></block></value></block></value><value name="B"><shadow type="math_number" id="TK-p](pxkW/fDEA|:PB)"><field name="NUM">1</field></shadow></value></block></value></block></value><statement name="DO"><block type="Image_setPixel" id="Afj}1}~Z}SiBC_g?6+#t"><value name="picture"><block type="typescript_expression" id="Kc(TnmV1x6cjVA0dmm$}"><field name="EXPRESSION">//  Dibuja un punto verde por cada objeto en el inventario
        screen</field></block></value><value name="x"><block type="math_arithmetic" id="0A#?d2zF4hX{Mv%LQGyH"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="v]c7hC{+)$[]il^lx8#|"><field name="NUM">4</field></shadow></value><value name="B"><shadow type="math_number" id="G}AlEl@M#`NUx=(qqfs3"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="H%2/qlu[$s]OFn%pCO~d"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="t5=MJV~HvR]T_mYMOKGz"><field name="NUM">0</field></shadow><block type="variables_get" id="~VTe:LCIjDAOr7PJ3Z58"><field name="VAR" id="eTfIhk/t:1o9.A1$L0z^">i</field></block></value><value name="B"><shadow type="math_number" id="3G@7ZzbgoO]RYpOKL5Bc"><field name="NUM">6</field></shadow></value></block></value></block></value><value name="y"><shadow type="math_number" id="6J`J?IbA+[O@h11}1ayI"><field name="NUM">5</field></shadow></value><value name="c"><shadow type="colorindexpicker" id="4yzxY+Iz~He1S}!8XV,c"><field name="index">7</field></shadow></value><next><block type="variables_change" id="(ftLcQZ3Dz#L2t}TCG+,"><field name="VAR" id="eTfIhk/t:1o9.A1$L0z^">i</field><value name="VALUE"><shadow type="math_number" id=")l/C(]w.sBxSpm-mbF[q"><field name="NUM">1</field></shadow></value></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="_/L;#iQks=zye-.rFjSL" x="1564" y="471"><mutation name="desbloquearFinal" functionid="H*;oSC|cB{`G?8Z.C;{4"></mutation><field name="function_name">desbloquearFinal</field><comment pinned="false" h="80" w="160">Aquí Persona B debería cambiar el mapa o abrir una puerta</comment><statement name="STACK"><block type="game_show_long_text" id="BemXCB69#r;-12cXa:}K"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text" id="sf*7YqYjO%k$}t*qy}x("><field name="TEXT">SISTEMA REPARADO. Busca la salida.</field></shadow></value></block></statement></block></xml>