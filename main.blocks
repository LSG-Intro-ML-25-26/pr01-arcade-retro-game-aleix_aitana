<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="/R{kq=Dfk=|HFjsvLh8x">i</variable><variable id="BFsjsGt)Xi3T5ps:Ml2-">inventario</variable><variable id="UBWocWDvd3Z9oKrS^BA*">miJugador</variable><variable id="9I@wW@=h8C/Gj^D_dUD7">paquetesNecesarios</variable></variables><comment id="2:NgxYFgMk.9:9CDn*pv" x="0" y="862" w="310" h="120">
Activa la fase final del juego.
[cite: 57]
</comment><comment id="3f(iIdV,7N/t;^:-X_bl" x="355" y="862" w="480" h="120">
--- VARIABLES GLOBALES (Abasto de variables) ---
</comment><block type="pxt-on-start" id="8r@[*e_Z~kcaOh:*V3hE" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="cS+6#~{/vOzou3sq-nFO"><field name="VAR" id="9I@wW@=h8C/Gj^D_dUD7">paquetesNecesarios</field><comment pinned="false" h="80" w="160">Estructura de datos compleja: Vector/Lista</comment><value name="VALUE"><shadow type="math_number" id="hMwBK;5e~8tX?;8zB)Bx"><field name="NUM">3</field></shadow></value></block></statement></block><block type="gameupdate" id="=qH8yVR$iO%fZUj$T,Op" x="404" y="0"><comment pinned="false" h="80" w="160">Evento que se ejecuta constantemente para actualizar la GUI técnica [cite: 58]</comment><statement name="HANDLER"><block type="function_call" id="#+fn`R-@53oFWNnbHNb["><mutation name="dibujarInterfazTecnica" functionid="=E3UDV*qO;7`HO-iV|}t"></mutation></block></statement></block><block type="function_definition" id="=EEk%j!kEH5PEHe8ja`k" x="718" y="0"><mutation name="inicializarSistema" functionid="1J+Z6)6lb7]7wpf8x43V"></mutation><field name="function_name">inicializarSistema</field><comment pinned="false" h="80" w="160">Inicializa los valores técnicos del sistema.
[cite: 39, 59]</comment><statement name="STACK"><block type="variables_set" id=",F$JdW6cJ[c[C]),N[1T"><field name="VAR" id="BFsjsGt)Xi3T5ps:Ml2-">inventario</field><value name="VALUE"><shadow type="math_number" id="*6IXjV0R3J?@G}A(mq)t"><field name="NUM">0</field></shadow><block type="lists_create_with" id="y|KN7?_yrl_u7%^R*4NJ"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="hudsetScore" id="Ih0,%(_#x7~.4M1!DJt("><value name="value"><shadow type="math_number" id="qS`MAA0o!v1v}_yUr].9"><field name="NUM">0</field></shadow></value><next><block type="hudSetLife" id="fylg~~-H*;,e%RqXq}L^"><value name="value"><shadow type="math_number" id="hI?tubNyUEs)U82rD:;X"><field name="NUM">3</field></shadow></value></block></next></block></next></block></statement></block><block type="function_definition" id="I},-hS0zz3O7^V##bvA^" x="1145" y="0"><mutation name="gestionarInventario" functionid=".hy`mp#Gh@52GL-g$vHA"><arg name="objeto" id="9a8ls4i3jwofxxl7i38f" type="string"></arg></mutation><field name="function_name">gestionarInventario</field><comment pinned="false" h="80" w="160">Gestiona la recolección de objetos de forma modular.
@param objeto Nombre del ítem recogido
[cite: 39, 59]</comment><value name="9a8ls4i3jwofxxl7i38f"><block type="argument_reporter_string" id="PuIq2ucPwLj1Z9GM0]-5"><mutation duplicateondrag="true"></mutation><field name="VALUE">objeto</field></block></value><statement name="STACK"><block type="array_push" id="Xvpteqmbc+B}Uul:|VZ^"><value name="list"><block type="variables_get" id="-w$aO0wG1)$;R1[Bm=sZ"><field name="VAR" id="BFsjsGt)Xi3T5ps:Ml2-">inventario</field></block></value><value name="value"><block type="argument_reporter_string" id="7q,CzZhA!Z:QozKDvD@a"><field name="VALUE">objeto</field></block></value><next><block type="mixer_play_sound" id="lK62tLv/`-Fszd+wj4q9"><field name="sound">music.baDing</field><next><block type="gameSplash" id="PqU5Pj_4r}C,SfsLf$hv"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="title"><shadow type="text" id="QKY{jd}QO.NBGby#orEf"><field name="TEXT"></field></shadow><block type="text_join" id="[55-%XJjP5,jeP$EB^3y"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="5^]Hkw@@Onz#f=GeFxc4"><field name="TEXT">Recuperado: </field></shadow></value><value name="ADD1"><shadow type="text" id="((f~{/cOI,2jb^x7=JNP"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="KG(BH_?Mw5`B3F`SKwsO"><field name="VALUE">objeto</field></block></value></block></value><next><block type="controls_if" id="E4a_see72mc,5bk^v4ZB"><comment pinned="false" h="80" w="160">Verifica si se ha alcanzado el objetivo para el final del juego [cite: 57]</comment><value name="IF0"><shadow type="logic_boolean" id="_4`3w8;fsX9UXg0S%kPf"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="c/Zq=h3tQB}J:m3I`kk6"><field name="OP">GTE</field><value name="A"><shadow type="math_number" id="kmY{^,d5-{xl|033;Oe4"><field name="NUM">0</field></shadow><block type="lists_length" id="Zy*AB:^yZ`.-kz5W6YB6"><value name="VALUE"><block type="variables_get" id="dhBNol9FA}m6]3_D[r{A"><field name="VAR" id="BFsjsGt)Xi3T5ps:Ml2-">inventario</field></block></value></block></value><value name="B"><shadow type="math_number" id="C|9jQV1?64UB.gM]]`^b"><field name="NUM">0</field></shadow><block type="variables_get" id="y.2sE|Jq@Ra}+{|[]g~B"><field name="VAR" id="9I@wW@=h8C/Gj^D_dUD7">paquetesNecesarios</field></block></value></block></value><statement name="DO0"><block type="function_call" id="2eFWJ:-]JTd9F]3x;_.2"><mutation name="desbloquearFinal" functionid="l/qoj;P|.nbG*.E-qs@n"></mutation></block></statement></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Oznp=G/nG|Xt0i=1VgZX" x="0" y="451"><mutation name="procesarDano" functionid="2i%,80l^q;LCcnZJvwCJ"></mutation><field name="function_name">procesarDano</field><comment pinned="false" h="80" w="160">Lógica técnica para procesar el daño de los enemigos.
[cite: 39]</comment><statement name="STACK"><block type="hudChangeLifeBy" id="ew?lmrui@BAiBa;~t:gj"><value name="value"><shadow type="math_number" id="$cgVY`YkfST-HYZau?pO"><field name="NUM">-1</field></shadow></value><next><block type="camerashake" id="Q@m=Sny%z}71x5GVBRO+"><value name="amplitude"><shadow type="math_number_minmax" id="gxeCqN8KUa%,D*Qt![$#"><mutation min="1" max="8" precision="0"></mutation><field name="SLIDER">4</field></shadow></value><value name="duration"><shadow type="timePicker" id="Bc#B%miz5ZM;co_dOVV;"><field name="ms">500</field></shadow></value><next><block type="spritesay" id="ERi,73*Dqi92MBe$4pll"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="PS!Lse51Vpa/s=eFEW-w"><field name="VAR" id="UBWocWDvd3Z9oKrS^BA*">miJugador</field></block></value><value name="text"><shadow type="text" id="[U6dbshpZw62*_3m]?CM"><field name="TEXT">¡ERROR!</field></shadow></value><value name="millis"><shadow type="timePicker" id="]HTa0=M(-yvh6p%eW!yk"><field name="ms">500</field></shadow></value><next><block type="Sprite_blockCombine_change" id="jHb5vr[]Y}?^YstEL@gg"><field name="property">Sprite.x@set</field><comment pinned="false" h="80" w="160">Pequeño retroceso para evitar perder vidas seguidas</comment><value name="mySprite"><block type="variables_get" id="QF0At}Ty,`4I=-%?[jrP"><field name="VAR" id="UBWocWDvd3Z9oKrS^BA*">miJugador</field></block></value><value name="value"><shadow type="math_number" id="jxx`I1WF4QfzuxopXF=q"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="8/;m)tg~].Vh{DGg31AL" x="551" y="451"><mutation name="dibujarInterfazTecnica" functionid="=E3UDV*qO;7`HO-iV|}t"></mutation><field name="function_name">dibujarInterfazTecnica</field><comment pinned="false" h="80" w="160">Funcionalidad Extra: Dibuja un mini-indicador de progreso en pantalla.</comment><data>0;1</data><statement name="STACK"><block type="Image_fillRect" id="p`mN:Y^/WN;z13QR^FA7"><value name="picture"><block type="typescript_expression" id="C1E#a:XNjgh4KJY5.{mu"><field name="EXPRESSION">//  Dibuja un fondo para el mini-mapa/inventario en la esquina
    screen</field></block></value><value name="x"><shadow type="math_number" id="yKIe29B,b^dGWByWN2Vc"><field name="NUM">2</field></shadow></value><value name="y"><shadow type="math_number" id="m#FS*MPSVJ$[s|yW+l^7"><field name="NUM">2</field></shadow></value><value name="w"><shadow type="math_number" id="/)mBwEJ5#5*#K$Wkxj+!"><field name="NUM">22</field></shadow></value><value name="h"><shadow type="math_number" id="xc6A_@ypRI|9!EPUn(yZ"><field name="NUM">8</field></shadow></value><value name="c"><shadow type="colorindexpicker" id="oe$`l)5J|_XO!@K*8sZD"><field name="index">15</field></shadow></value><next><block type="device_while" id="?Lm%.;H)tvcbD9GtMCT:"><value name="COND"><shadow type="logic_boolean" id="I|Eg3M=+`%)qi+E^VMn+"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="9-:trXz]5yS~d@4dPbr}"><field name="OP">LTE</field><value name="A"><shadow type="math_number" id="uOIcubj[dJu]+/51vkwO"><field name="NUM">0</field></shadow><block type="variables_get" id="O=+!,H4{sak9k5S!3Xhw"><field name="VAR" id="/R{kq=Dfk=|HFjsvLh8x">i</field></block></value><value name="B"><shadow type="math_number" id="]8/gSJ$qiqO2x7@y[+06"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="y$.@ii.dBX=m#t5[d@iL"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="VF8^4={u9WP~rilI[`|K"><field name="NUM">0</field></shadow><block type="lists_length" id="LE5mVrC:ru|8RxR^,?7m"><value name="VALUE"><block type="variables_get" id="H)5iU#cdiHjc#jKd]Ha3"><field name="VAR" id="BFsjsGt)Xi3T5ps:Ml2-">inventario</field></block></value></block></value><value name="B"><shadow type="math_number" id="I.dC;M6{,Azc.n2w/MTV"><field name="NUM">1</field></shadow></value></block></value></block></value><statement name="DO"><block type="Image_setPixel" id=";=qx7VLTcwb!t)T~HASl"><value name="picture"><block type="typescript_expression" id="HDSY*c+}^~~6IEX6nufk"><field name="EXPRESSION">//  Dibuja un punto verde por cada objeto en el inventario
        screen</field></block></value><value name="x"><block type="math_arithmetic" id="W;j5QHbO[-A.aL$%9k(d"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="Low!ly|)s`~pI!Gh0H7,"><field name="NUM">4</field></shadow></value><value name="B"><shadow type="math_number" id="6d0OaE+(aMG)ctZ4P1oM"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="`9IE~3`07R_*1GB~p?8/"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="}nObuHD[!j]I:CLD(HUE"><field name="NUM">0</field></shadow><block type="variables_get" id="7C!L8BdFQXM!I]!4Sa,2"><field name="VAR" id="/R{kq=Dfk=|HFjsvLh8x">i</field></block></value><value name="B"><shadow type="math_number" id="TQEG6R5Kq/O;6,Qkv{*!"><field name="NUM">6</field></shadow></value></block></value></block></value><value name="y"><shadow type="math_number" id="aSTSm{6u0(Z+NQO.a2.R"><field name="NUM">5</field></shadow></value><value name="c"><shadow type="colorindexpicker" id="ja/Ik}H7v]w`4LwYlzF|"><field name="index">7</field></shadow></value><next><block type="variables_change" id="fvqQs0{VGfy)wuuDv]T+"><field name="VAR" id="/R{kq=Dfk=|HFjsvLh8x">i</field><value name="VALUE"><shadow type="math_number" id="?YryPm+e`x0W@e,PO,CP"><field name="NUM">1</field></shadow></value></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="{/sDY2[,Y],)wJr)A!,^" x="1667" y="451"><mutation name="desbloquearFinal" functionid="l/qoj;P|.nbG*.E-qs@n"></mutation><field name="function_name">desbloquearFinal</field><comment pinned="false" h="80" w="160">Aquí Persona B debería cambiar el mapa o abrir una puerta</comment><statement name="STACK"><block type="game_show_long_text" id="W;F?gC`}.YCK@Yo42|GN"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text" id="7VRTbQBJAzlKD3G2.3UZ"><field name="TEXT">SISTEMA REPARADO. Busca la salida.</field></shadow></value></block></statement></block></xml>